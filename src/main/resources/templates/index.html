<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi File Upload</title>
</head>
<body>
<h2>Upload Files</h2>
<form id="uploadForm">
    <input type="file" id="fileInput" name="files" multiple required>
    <button type="submit">Upload</button>
</form>

<div id="response"></div>

<script>
    document.getElementById('uploadForm').addEventListener('submit', function(event) {
        event.preventDefault(); // 기본 제출 이벤트를 막습니다.

        let fileInput = document.getElementById('fileInput');
        let formData = new FormData();

        // 여러 파일을 FormData에 추가
        for (let i = 0; i < fileInput.files.length; i++) {
            formData.append('files', fileInput.files[i]);
        }

        fetch('/api/doc/upload', {
            method: 'POST',
            body: formData
        })
            .then(response => response.text()) // 서버로부터의 응답을 텍스트로 처리
            .then(data => {
                document.getElementById('response').textContent = data; // 응답 데이터를 표시
            })
            .catch(error => {
                document.getElementById('response').textContent = 'Upload failed: ' + error.message;
            });
    });

</script>
</body>
</html>
